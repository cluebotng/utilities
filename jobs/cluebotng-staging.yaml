---
# Important things
- name: core
  command: cd ./apps/core/current && ./cluebotng -l -m live_run
  continuous: true
  cpu: '0.5'
  mem: 0.5Gi
  image: bullseye
  port: 3565
  replicas: 1
  no-filelog: true

- name: botng
  image: tool-cluebotng-staging/botng:latest
  command: botng --irc-relay --debug
  continuous: true
  cpu: '0.5'
  mem: 1Gi
  port: 8118
  health-check-http: /health
  replicas: 1
  mount: none

# Metrics forwarding
- name: grafana-alloy
  command: ./apps/grafana-alloy/current/alloy run --disable-reporting=true --server.http.listen-addr=0.0.0.0:12345 --storage.path=./apps/grafana-alloy/data ./apps/grafana-alloy/config.alloy
  continuous: true
  cpu: '0.1'
  mem: 0.5Gi
  health-check-http: /-/metrics
  image: bullseye
  port: 12345
  replicas: 1
  no-filelog: true
